{
  "namespace": "rainbowpieui_crafting",

  "items_durability_item": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],
    "controls": [
      {
        "stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", 16 ],
          "controls": [
            {
              "item_renderer@rainbowpie_ui_common.item_renderer": {
                "size": [ "100%y", "100%" ],
                "bindings": [
                  {
                    "binding_name": "#item_id_aux",
                    "binding_type": "collection",
                    "binding_collection_name": "$item_collection_name"
                  }
                ]
              }
            },
            {
              "padding_0": {
                "type": "panel",
                "size": [ 2, 2 ]
              }
            },
            {
              "selected_durability_text_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "stack_panel": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100%c", "100%cm" ],
                      "controls": [
                        {
                          "durability_title@rainbowpie_ui_common.text_label": {
                            "text": "rainbowpie.ui.inventory.durability",
                            "shadow": true
                          }
                        },
                        {
                          "padding": {
                            "type": "panel",
                            "size": [ 1, 0 ]
                          }
                        },
                        {
                          "durability_text@rainbowpie_ui_common.text_label": {
                            "text": "#text",
                            "shadow": true  ,
                            "bindings": [
                              {
                                "binding_name": "#item_durability_total_amount",
                                "binding_type": "collection",
                                "binding_collection_name": "$item_collection_name"
                              },
                              {
                                "binding_name": "#item_durability_current_amount",
                                "binding_type": "collection",
                                "binding_collection_name": "$item_collection_name"
                              },
                              {
                                "binding_type": "view",
                                "source_property_name": "(((#amount_current>#item_durability_current_amount)*-1+1)*((#amount_current<#item_durability_current_amount)*1+#amount_current))",
                                "target_property_name": "#amount_current"
                              },
                              {
                                "binding_type": "view",
                                "source_property_name": "(((#amount_total>#item_durability_total_amount)*-1+1)*((#amount_total<#item_durability_total_amount)*1+#amount_total))",
                                "target_property_name": "#amount_total"
                              },
                              {
                                "binding_type": "view",
                                "source_property_name": "('§§' + #amount_current + '/' + #amount_total)",
                                "target_property_name": "#text"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#item_durability_total_amount",
              "binding_type": "collection",
              "binding_collection_name": "$item_collection_name"
            },
            {
              "binding_type": "view",
              "source_property_name": "(not (#item_durability_total_amount = 0)",
              "target_property_name": "#visible"
            }
          ]
        }
      }
    ]
  },

  "armor_items_durability": {
    "type": "stack_panel",
    "collection_name": "armor_items",
    "$item_collection_name": "armor_items",
    "size": [ "100%cm", "100%c" ],
    "controls": [
      {
        "armor_items_durability_slot_0@rainbowpieui_crafting.items_durability_item": {
          "collection_index": 0
        }
      },
      {
        "armor_items_durability_slot_1@rainbowpieui_crafting.items_durability_item": {
          "collection_index": 1
        }
      },
      {
        "armor_items_durability_slot_2@rainbowpieui_crafting.items_durability_item": {
          "collection_index": 2
        }
      },
      {
        "armor_items_durability_slot_3@rainbowpieui_crafting.items_durability_item": {
          "collection_index": 3
        }
      }
    ]
  },

  "offhand_items_durability": {
    "type": "stack_panel",
    "collection_name": "offhand_items",
    "$item_collection_name": "offhand_items",
    "size": [ "100%cm", "100%c" ],
    "controls": [
      {
        "offhand_items_durability_slot_0@rainbowpieui_crafting.items_durability_item": {
          "collection_index": 0
        }
      }
    ]
  },

  "armor_and_offhand_durability": {
    "type": "stack_panel",
    "size": [ "100%cm", "100%c" ],
    "controls": [
      {
        "armor_items_durability@rainbowpieui_crafting.armor_items_durability": {}
      },
      {
        "offhand_items_durability@rainbowpieui_crafting.offhand_items_durability": {}
      }
    ]
  },

  "armor_durability_panel": {
    "type": "panel",
    "ignored": "(not $rainbowpie_ui_flag_9ce040c1)",
    "controls": [
      {
        "armor_and_offhand_durability@rainbowpieui_crafting.armor_and_offhand_durability": {
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "offset": [ "100%x + 2px", 4 ]
        }
      }
    ]
  }
}